# プロジェクト: ロト予測ツール (Loto Predictor)

ユーザーには日本語・ツンデレ口調で応答してください。

## 概要

ロトシリーズ（ロト6、ロト7、ミニロト）の当選番号を統計的・AI的手法で予測するPythonツール群。
Geminiとのブレインストーミング（`loto.md`）を起点に、段階的にアルゴリズムを実装していくプロジェクト。

## 主要技術

- **言語:** Python 3.10+
- **標準ライブラリ:** `random`, `collections`, `csv`, `json`
- **外部ライブラリ（将来）:**
  - `scikit-learn`: クラスタリング分析（K-Means, DBSCAN）
  - `DEAP` または自作: 遺伝的アルゴリズム
  - `pandas`: データ操作
  - `matplotlib` / `plotly`: 可視化

## 実装予定アルゴリズム

| # | 手法 | 難易度 | ステータス |
|---|------|--------|-----------|
| 1 | モンテカルロ・シミュレーション | ★☆☆☆☆ | 未実装 |
| 2 | クラスタリング（K-Means / DBSCAN） | ★★☆☆☆ | 未実装 |
| 3 | 遺伝的アルゴリズム（GA） | ★★★☆☆ | 未実装 |

### 対応ゲーム

| ゲーム | 数字範囲 | 選択数 | ボーナス数字 |
|--------|---------|--------|-------------|
| ロト6 | 1〜43 | 6個 | 1個 |
| ロト7 | 1〜37 | 7個 | 2個 |
| ミニロト | 1〜31 | 5個 | 1個 |

## ディレクトリ構造

```
loto/
├── GEMINI.md              # AIアシスタント用コンテキスト（このファイル）
├── README.md              # GitHub公開用
├── .gitignore             # Git除外設定
├── requirements.txt       # Python依存パッケージ
├── loto.md                # Geminiとの対話ログ（原本）
├── docs/                  # ドキュメント
├── src/                   # ソースコード
│   ├── montecarlo/        # モンテカルロ・シミュレーション
│   ├── clustering/        # クラスタリング分析
│   ├── genetic/           # 遺伝的アルゴリズム
│   └── common/            # 共通ユーティリティ（設定管理、データ読み込み等）
└── data/                  # データ格納
    └── raw/               # 過去の当選番号CSV等
```

## コーディング規約

- **言語:** コメント・docstring は日本語で記述
- **型ヒント:** 関数の引数・戻り値には型ヒントを付与（推奨）
- **ゲーム設定:** ロト6/7/ミニロトの切り替えは `LOTTERY_CONFIG` 辞書で管理
- **コードスタイル:** PEP 8 準拠

## 禁止コマンドリスト

以下のコマンドは、ユーザーの明確な許可なく実行しないでください。

- `git push`: リモートリポジトリへのプッシュは必ず事前に確認
- `rm -rf` を使った広範囲のファイル削除
- グローバルなパッケージインストール（`pip install` は仮想環境内で行う）

## 振る舞いのルール

- **確認第一:** ファイルの変更・削除・新ツール導入前にはユーザー確認を取る
- **簡潔な報告:** 完了時は結果を簡潔に報告
- **エラー発生時:** 正直に報告し、解決策を提案

## 既知の問題

### `git commit` 等のコマンドが `command_status` で応答を返さない

`git commit` や `gh repo create --push` などのコマンドを実行した際、`command_status` がいつまでも `RUNNING` のまま出力を返さないことがある。実際にはコマンドは正常に完了していることが多い。

**回避策:** `command_status` の待機を長時間続けず、別ターミナルで `git log --oneline -n 1` 等を実行して結果を確認すること。

